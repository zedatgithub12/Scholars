!function(e){e(window).on("load",(function(){e("html").addClass("colorpicker-ready")})),wp.customize.controlConstructor["zakra-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initZakraBackgroundControl()},initZakraBackgroundControl:function(){var e=this,t=e.setting._value,n=e.container.find(".zakra-color-picker-alpha");(_.isUndefined(t["background-image"])||""===t["background-image"])&&(e.container.find(".customize-control-content > .background-repeat").hide(),e.container.find(".customize-control-content > .background-position").hide(),e.container.find(".customize-control-content > .background-size").hide(),e.container.find(".customize-control-content > .background-attachment").hide()),n.wpColorPicker({change:function(){jQuery("html").hasClass("colorpicker-ready")&&setTimeout((function(){e.saveValue("background-color",n.val())}),100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&e.saveValue("background-color","")}}),e.container.on("click",".background-image-upload-button, .thumbnail-image img",(function(t){var n=wp.media({multiple:!1}).open().on("select",(function(){var t,o,i,a=n.state().get("selection").first(),r=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(r=a.toJSON().sizes.thumbnail.url):r=a.toJSON().sizes.medium.url,t=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==t&&e.container.find(".customize-control-content > .background-repeat, .customize-control-content > .background-position, .customize-control-content > .background-size, .customize-control-content > .background-attachment").show(),e.saveValue("background-image",t),o=e.container.find(".placeholder, .thumbnail"),i=e.container.find(".background-image-upload-remove-button"),o.length&&o.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),i.length&&i.show()}));t.preventDefault()})),e.container.on("click",".background-image-upload-remove-button",(function(t){var n,o;t.preventDefault(),e.saveValue("background-image",""),n=e.container.find(".placeholder, .thumbnail"),o=e.container.find(".background-image-upload-remove-button"),e.container.find(".customize-control-content > .background-repeat").hide(),e.container.find(".customize-control-content > .background-position").hide(),e.container.find(".customize-control-content > .background-size").hide(),e.container.find(".customize-control-content > .background-attachment").hide(),n.length&&n.removeClass().addClass("placeholder").html(ZakraCustomizerControlBackground.placeholder),o.length&&o.hide()})),e.container.on("change",".background-repeat select",(function(){e.saveValue("background-repeat",jQuery(this).val())})),e.container.on("change",".background-position select",(function(){e.saveValue("background-position",jQuery(this).val())})),e.container.on("change",".background-size select",(function(){e.saveValue("background-size",jQuery(this).val())})),e.container.on("change",".background-attachment select",(function(){e.saveValue("background-attachment",jQuery(this).val())}))},saveValue:function(e,t){var n=this,o=jQuery("#customize-control-"+n.id.replace("[","-").replace("]","")+" .background-hidden-value"),i=n.setting._value;i[e]=t,jQuery(o).attr("value",JSON.stringify(i)).trigger("change"),n.setting.set(i)}})}(jQuery),function(e){e(window).on("load",(function(){e("html").addClass("colorpicker-ready")})),wp.customize.controlConstructor["zakra-color"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this,t="hue"===this.params.mode,n=this.container.find(".zakra-color-picker-alpha"),o=n.val().replace(/\s+/g,"");n.wpColorPicker({change:function(i,a){var r=t?a.color.h():n.iris("color");jQuery("html").hasClass("colorpicker-ready")&&o!==r.replace(/\s+/g,"")&&e.setting.set(r)},clear:function(){e.setting.get()||e.setting.set(""),e.setting.set("")}})}})}(jQuery),wp.customize.controlConstructor["zakra-buttonset"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("click","input",(function(){e.setting.set(jQuery(this).val())}))}}),wp.customize.controlConstructor["zakra-dimensions"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.container.on("change keyup paste input",".top input",(function(){e.updateTop()})),e.container.on("change keyup paste input",".right input",(function(){e.updateRight()})),e.container.on("change keyup paste input",".left input",(function(){e.updateLeft()})),e.container.on("change keyup paste input",".bottom input",(function(){e.updateBottom()}))},updateTop:function(){var e=this,t=e.setting._value,n=e.container.find(".dimensions-hidden-value"),o={top:{}};e.container.find(".top .input-wrapper").each((function(){var e=jQuery(this).find("input").val();o.top=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)},updateRight:function(){var e=this,t=e.setting._value,n=e.container.find(".dimensions-hidden-value"),o={right:{}};e.container.find(".right .input-wrapper").each((function(){var e=jQuery(this).find("input").val();o.right=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)},updateBottom:function(){var e=this,t=e.setting._value,n=e.container.find(".dimensions-hidden-value"),o={bottom:{}};e.container.find(".bottom .input-wrapper").each((function(){var e=jQuery(this).find("input").val();o.bottom=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)},updateLeft:function(){var e=this,t=e.setting._value,n=e.container.find(".dimensions-hidden-value"),o={left:{}};e.container.find(".left .input-wrapper").each((function(){var e=jQuery(this).find("input").val();o.left=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)}}),wp.customize.controlConstructor["zakra-dropdown-categories"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("change","select",(function(){e.setting.set(jQuery(this).val())}))}}),function(e){wp.customize.controlConstructor["zakra-fontawesome"]=wp.customize.Control.extend({ready:function(){"use strict";this.initZakraFontawesomeControl()},initZakraFontawesomeControl:function(){var t,n=this,o=n.selector,i=e(o).find("select"),a=[],r=n.setting._value,c=window["ZakraCustomizerControlFontawesome"+this.id],s=0;e.each(c,(function(e,t){a[s]={id:t,text:t},s++})),(t=i.selectWoo({data:a,width:"100%",templateResult:function(t){return t.id?e('<span><i class="fa fa-lg '+t.text+'"></i> '+t.text+"</span>"):t.text}})).val(r).trigger("change"),t.on("change",(function(){n.setting.set(i.val())}))}})}(jQuery),wp.customize.controlConstructor["zakra-editor"]=wp.customize.Control.extend({ready:function(){"use strict";var e="editor_"+this.id;wp.editor&&wp.editor.initialize&&wp.editor.initialize(e,{tinymce:{wpautop:!1,forced_root_block:""},quicktags:!0,mediaButtons:!0})},onChangeActive:function(e,t){"use strict";var n,o=this,i="editor_"+o.id,a=o.container.find("textarea");(n=tinyMCE.get(i))&&n.onChange.add((function(e){var t;e.save(),t=n.getContent(),a.val(t).trigger("change"),wp.customize.instance(o.id).set(t)}))}}),function(e){e(window).on("load",(function(){e("html").addClass("colorpicker-ready")})),wp.customize.controlConstructor["zakra-gradient"]=wp.customize.Control.extend({ready(){"use strict";var t=this;t.initFirstColorControl(),t.initSecondColorControl(),t.initFirstRangeControl(),t.initSecondRangeControl();var n=e(".types select").find(":selected").val();"radial"===n&&(t.container.find(".type > .type-linear").hide(),t.container.find(".type > .type-radial").show()),"linear"===n&&(t.container.find(".type > .type-radial").hide(),t.container.find(".type > .type-linear").show()),t.container.on("change",".types select",(function(){"radial"===e(this).find(":selected").val()&&(t.container.find(".type > .type-linear").hide(),t.container.find(".type > .type-radial").show()),"linear"===e(this).find(":selected").val()&&(t.container.find(".type > .type-radial").hide(),t.container.find(".type > .type-linear").show()),t.saveValue("type",jQuery(".types select").val())})),t.initAngleRangeControl(),t.container.on("change",".type-radial select",(function(){t.saveValue("position",jQuery(".type-radial select").val())}))},initFirstColorControl(){"use strict";var e=this,t="hue"===this.params.mode,n=this.container.find(".color .zakra-color-picker-alpha"),o=n.val().replace(/\s+/g,"");n.wpColorPicker({change:function(i,a){var r=t?a.color.h():n.iris("color");console.log("color 1:",r),jQuery("html").hasClass("colorpicker-ready")&&o!==r.replace(/\s+/g,"")&&e.setting.set(r)},clear:function(){e.setting.get()||e.setting.set(""),e.setting.set("")}})},initSecondColorControl(){"use strict";var e=this,t="hue"===this.params.mode,n=this.container.find(".second-color .zakra-color-picker-alpha"),o=n.val().replace(/\s+/g,"");n.wpColorPicker({change:function(i,a){var r=t?a.color.h():n.iris("color");console.log("color 2:",r),jQuery("html").hasClass("colorpicker-ready")&&o!==r.replace(/\s+/g,"")&&e.setting.set(r)},clear:function(){e.setting.get()||e.setting.set(""),e.setting.set("")}})},initFirstRangeControl(){var e=this;this.container.find(".color input[type=range]").on("input change",(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".slider-wrapper").find(".zakra-range-value .value");t.val(e),t.change()})),this.container.find(".color .zakra-slider-reset").click((function(){var e=jQuery(this).closest(".slider-wrapper"),t=e.find("input[type=range]"),n=e.find(".zakra-range-value .value"),o=t.data("reset_value");t.val(o),n.val(o),n.change()})),this.container.on("input change",".color input[type=number]",(function(){var t=jQuery(this).val();jQuery(this).closest(".slider-wrapper").find("input[type=range]").val(t),e.setting.set(t)}))},initSecondRangeControl(){var e=this;this.container.find(".second-color input[type=range]").on("input change",(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".slider-wrapper").find(".zakra-range-value .value");t.val(e),t.change()})),this.container.find(".second-color .zakra-slider-reset").click((function(){var e=jQuery(this).closest(".slider-wrapper"),t=e.find("input[type=range]"),n=e.find(".zakra-range-value .value"),o=t.data("reset_value");t.val(o),n.val(o),n.change()})),this.container.on("input change",".second-color input[type=number]",(function(){var t=jQuery(this).val();jQuery(this).closest(".slider-wrapper").find("input[type=range]").val(t),e.setting.set(t)}))},initAngleRangeControl(){var e=this;this.container.find(".type input[type=range]").on("input change",(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".slider-wrapper").find(".zakra-range-value .value");t.val(e),t.change()})),this.container.find(".type .zakra-slider-reset").click((function(){var e=jQuery(this).closest(".slider-wrapper"),t=e.find("input[type=range]"),n=e.find(".zakra-range-value .value"),o=t.data("reset_value");t.val(o),n.val(o),n.change()})),this.container.on("input change",".type input[type=number]",(function(){var t=jQuery(this).val();jQuery(this).closest(".slider-wrapper").find("input[type=range]").val(t),e.setting.set(t)}))},saveValue(e,t){var n=this,o=jQuery("#customize-control-"+n.id.replace("[","-").replace("]","")+" .gradient-hidden-value"),i=n.setting._value;i[e]=t,jQuery(o).attr("value",JSON.stringify(i)).trigger("change"),n.setting.set(i)}})}(jQuery),function(e){wp.customize.controlConstructor["zakra-group"]=wp.customize.Control.extend({ready:function(){"use strict";this.registerToggleEvents(),this.container.on("zakra_settings_changed",this.onOptionChange)},registerToggleEvents:function(){var t=this;e(".wp-full-overlay-sidebar-content").click((function(t){e(t.target).closest(".zakra-field-settings-modal").length||e(".zakra-group-toggle-icon.open").trigger("click")})),t.container.on("click",".zakra-group-wrap .zakra-group-toggle-icon",(function(n){n.preventDefault(),n.stopPropagation();var o=e(this),i=o.closest(".customize-control-zakra-group"),a=i.find(".zakra-field-settings-modal").data("loaded"),r=i.parents(".control-section");if(o.hasClass("open"))i.find(".zakra-field-settings-modal").hide();else{var c=r.find(".zakra-group-toggle-icon.open");if(c.length>0&&c.trigger("click"),a)i.find(".zakra-field-settings-modal").show();else{var s=t.params.zakra_fields,l=e(ZakraCustomizerControlGroup.group_modal_tmpl),u=e("#customize-footer-actions .active").attr("data-device");i.find(".zakra-field-settings-wrap").append(l),i.find(".zakra-fields-wrap").attr("data-control",t.params.name),t.zakra_render_field(i,s,t),i.find(".zakra-field-settings-modal").show(),"mobile"===u?(e(".control-wrap.mobile").addClass("active"),e(".responsive-switchers .preview-mobile").addClass("active"),e(".control-wrap.tablet, .control-wrap.desktop").removeClass("active"),e(".responsive-switchers .preview-tablet, .responsive-switchers .preview-desktop").removeClass("active")):"tablet"===u?(e(".control-wrap.tablet").addClass("active"),e(".responsive-switchers .preview-tablet").addClass("active"),e(".control-wrap.mobile, .control-wrap.desktop").removeClass("active"),e(".responsive-switchers .preview-mobile, .responsive-switchers .preview-desktop").removeClass("active")):(e(".control-wrap.desktop").addClass("active"),e(".responsive-switchers .preview-desktop").addClass("active"),e(".control-wrap.mobile, .control-wrap.tablet").removeClass("active"),e(".responsive-switchers .preview-mobile, .responsive-switchers .preview-tablet").removeClass("active"))}}o.toggleClass("open")})),t.container.on("click",".zakra-group-wrap > .customizer-text",(function(t){t.preventDefault(),t.stopPropagation(),e(this).find(".zakra-group-toggle-icon").trigger("click")}))},zakra_render_field:function(t,n,o){var i=this,a=t.find(".zakra-fields-wrap"),r="",c=[],s=i.isJSONString(o.params.value)?JSON.parse(o.params.value):{};if(void 0!==n.tabs){var l=0;r+='<div id="'+o.params.name+'-tabs" class="zakra-group-tabs">',r+='<ul class="zakra-group-list">',_.each(n.tabs,(function(e,t){var n="";0===l&&(n="active"),r+='<li class="'+n+'"><a href="#tab-'+t.replace(" ","-")+'"><span>'+t+"</span></a></li>",l++})),r+="</ul>",r+='<div class="zakra-tab-content" >',_.each(n.tabs,(function(e,t){var n=i.generateFieldHtml(e,s);r+='<div id="tab-'+t.replace(" ","-")+'" class="tab">',r+=n.html,_.each(n.controls,(function(e,t){c.push({key:e.key,value:e.value,name:e.name})})),r+="</div>"})),r+="</div>",r+="</div>",a.html(r),e("#"+o.params.name+"-tabs").tabs()}else{var u=i.generateFieldHtml(n,s);r+=u.html,_.each(u.controls,(function(e,t){c.push({key:e.key,value:e.value,name:e.name})})),a.html(r)}_.each(c,(function(e,t){switch(e.key){case"zakra-color":i.initColorControl(a,o,e.name);break;case"zakra-background":i.initBackgroundControl(o,e,e.name);break;case"zakra-typography":i.initTypographyControl(o,e,e.name)}})),t.find(".zakra-field-settings-modal").data("loaded",!0)},isJSONString:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},generateFieldHtml:function(e,t){var n="",o=[];_.each(e,(function(e,t){var i=wp.customize.control(e.name)?wp.customize.control(e.name).params.value:"",a=e.control,r="customize-control-"+a+"-content",c=wp.template(r),s=i||e.default,l="",u="";e.value=s,e.title=e.label,_.each(e.data_attrs,(function(e,t){l+=" data-"+t+' ="'+e+'"'})),_.each(e.input_attrs,(function(e,t){u+=t+' ="'+e+'"'})),e.dataAttrs=l,e.inputAttrs=u,o.push({key:a,value:s,name:e.name});var d="",g=["zakra-typography"];"zakra-typography"===e.control&&g.includes(e.control)&&(e.languages=ZakraCustomizerControlTypographySubsets),g.includes(e.control)&&(d="has-responsive-switchers"),n+='<li id="customize-control-'+e.name+'" class="customize-control '+d+" customize-control-"+e.control+'" >',n+=c(e),n+="</li>"}));var i=new Object;return i.controls=o,i.html=n,i},onOptionChange:function(t,n,o,i,a){e(".hidden-field-"+a).val(i),wp.customize.control(a).setting.set(i)},initColorControl:function(t,n,o){var i=this;t.find(".customize-control-zakra-color .zakra-color-picker-alpha").wpColorPicker({change:function(t,n){if(void 0!==t.originalEvent||void 0!==n.color._alpha){var a=e(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];o=e(a).parents(".customize-control").attr("id");var r=e("#"+o+".customize-control-zakra-color .zakra-color-picker-alpha");o=o.replace("customize-control-","");var c=r.iris("color");e(a).val(c),i.container.trigger("zakra_settings_changed",[i,e(a),c,o])}},clear:function(t){var n=e(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];o=(o=e(n).parents(".customize-control").attr("id")).replace("customize-control-",""),e(n).val(""),i.container.trigger("zakra_settings_changed",[i,e(n),"",o]),wp.customize.previewer.refresh()}})},initBackgroundControl:function(t,n,o){var i=e("#customize-control-"+t.id.replace("[","-").replace("]","")+" .background-hidden-value"),a=JSON.parse(i.val()),r=n.name,c=t.container.find(".zakra-color-picker-alpha"),s=t.container.find("#customize-control-"+r);(_.isUndefined(a["background-image"])||""===a["background-image"])&&(s.find(".customize-control-content > .background-repeat").hide(),s.find(".customize-control-content > .background-position").hide(),s.find(".customize-control-content > .background-size").hide(),s.find(".customize-control-content > .background-attachment").hide()),c.wpColorPicker({change:function(){if(e("html").hasClass("colorpicker-ready")){var n=e(this);setTimeout((function(){t.saveBackgroundValue("background-color",c.val(),n,o)}),100)}},clear:function(n){var i=e(n.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];i&&t.saveBackgroundValue("background-color","",e(i),o),wp.customize.previewer.refresh()}}),s.on("click",".background-image-upload-button, .thumbnail-image img",(function(n){var i=e(this),a=wp.media({multiple:!1}).open().on("select",(function(){var e,n,r,c=a.state().get("selection").first(),l=c.toJSON().sizes.full.url;_.isUndefined(c.toJSON().sizes.medium)?_.isUndefined(c.toJSON().sizes.thumbnail)||(l=c.toJSON().sizes.thumbnail.url):l=c.toJSON().sizes.medium.url,e=c.toJSON().sizes.full.url,c.toJSON().id,c.toJSON().width,c.toJSON().height,""!==e&&s.find(".customize-control-content > .background-repeat, .customize-control-content > .background-position, .customize-control-content > .background-size, .customize-control-content > .background-attachment").show(),t.saveBackgroundValue("background-image",e,i,o),n=s.find(".placeholder, .thumbnail"),r=s.find(".background-image-upload-remove-button"),n.length&&n.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+l+'" alt="" />'),r.length&&r.show()}));n.preventDefault()})),s.on("click",".background-image-upload-remove-button",(function(n){var o,i;n.preventDefault(),t.saveBackgroundValue("background-image","",e(this)),o=s.find(".placeholder, .thumbnail"),i=s.find(".background-image-upload-remove-button"),s.find(".customize-control-content > .background-repeat").hide(),s.find(".customize-control-content > .background-position").hide(),s.find(".customize-control-content > .background-size").hide(),s.find(".customize-control-content > .background-attachment").hide(),o.length&&o.removeClass().addClass("placeholder").html(ZakraCustomizerControlBackground.placeholder),i.length&&i.hide()})),s.on("change",".background-repeat select",(function(){t.saveBackgroundValue("background-repeat",e(this).val(),e(this),o)})),s.on("change",".background-position select",(function(){t.saveBackgroundValue("background-position",e(this).val(),e(this),o)})),s.on("change",".background-size select",(function(){t.saveBackgroundValue("background-size",e(this).val(),e(this),o)})),s.on("change",".background-attachment select",(function(){t.saveBackgroundValue("background-attachment",e(this).val(),e(this),o)}))},saveBackgroundValue:function(t,n,o,i){var a=this,r=e("#customize-control-"+a.id.replace("[","-").replace("]","")+" .background-hidden-value"),c=JSON.parse(r.val());c[t]=n,e(r).attr("value",JSON.stringify(c)).trigger("change"),i=(i=e(o).parents(".customize-control").attr("id")).replace("customize-control-",""),a.container.trigger("zakra_settings_changed",[a,o,c,i])},initTypographyControl:function(t,n,o){t.setting._value;var i=n.name,a=t.container.find("#customize-control-"+i);t.renderTypographyFontSelector(e(this),o,n),t.renderTypographyVariantSelector(e(this),o,n),t.renderTypographySubsetSelector(e(this),o,n),a.on("change",".font-style select",(function(){t.saveTypographyValue("font-style",e(this).val(),e(this),o)})),a.on("change",".text-transform select",(function(){t.saveTypographyValue("text-transform",e(this).val(),e(this),o)})),a.on("change",".text-decoration select",(function(){t.saveTypographyValue("text-decoration",e(this).val(),e(this),o)})),a.on("change keyup paste input",".font-size input",(function(){t.saveTypographyFontSize(e(this),o,n)})),a.on("change keyup paste input",".line-height input",(function(){t.saveTypographyLineHeight(e(this),o,n)})),a.on("change keyup paste input",".letter-spacing input",(function(){t.saveTypographyLetterSpacing(e(this),o,n)}))},renderTypographyFontSelector:function(t,n,o){var i,a=this,r=a.selector+" .font-family select",c=[],s=[],l=[],u=e("#customize-control-"+a.id.replace("[","-").replace("]","")+" .typography-hidden-value"),d=JSON.parse(u.val()),g=a.getTypographyFonts();_.isUndefined(g.standard)||_.each(g.standard,(function(e){c.push({id:e.family.replace(/&quot;/g,"&#39"),text:e.label})})),_.isUndefined(g.google)||_.each(g.google,(function(e){s.push({id:e.family,text:e.label})})),data=[{text:g.standardfontslabel,children:c},{text:g.googlefontslabel,children:s}],_.isUndefined(g.custom)||(_.each(g.custom,(function(e){l.push({id:e.family,text:e.label})})),data.push({text:g.customfontslabel,children:l})),i=e(r).selectWoo({data:data,width:"100%"}),d["font-family"]&&i.val(d["font-family"].replace(/'/g,'"')).trigger("change"),i.on("change",(function(){a.saveTypographyValue("font-family",e(this).val(),e(this),n),a.renderTypographyVariantSelector(e(this),n,o),a.renderTypographySubsetSelector(e(this),n,o)}))},getTypographyFonts:function(){return _.isUndefined(ZakraCustomizerControlTypography)?{google:[],standard:[]}:ZakraCustomizerControlTypography},renderTypographyVariantSelector:function(t,n,o){var i,a=this,r=e("#customize-control-"+a.id.replace("[","-").replace("]","")+" .typography-hidden-value"),c=JSON.parse(r.val()),s=c["font-family"],l=a.getTypographyVariants(s),u=a.selector+" .font-weight select",d=[],g=!1;!1!==l?(e(a.selector+" .font-weight").show(),_.each(l,(function(e){c["font-weight"]===e.id&&(g=!0),d.push({id:e.id,text:e.label})})),g||(c["font-weight"]="regular"),e(u).hasClass("select2-hidden-accessible")&&(e(u).selectWoo("destroy"),e(u).empty()),(i=e(u).selectWoo({data:d,width:"100%"})).val(c["font-weight"]).trigger("change"),i.on("change",(function(){a.saveTypographyValue("font-weight",e(this).val(),e(this),n)}))):e(a.selector+" .font-weight").hide()},getTypographyVariants:function(e){var t=this.getTypographyFonts(),n=!1;return _.each(t.standard,(function(t){if(e&&t.family===e.replace(/'/g,'"'))return n=t.variants})),_.each(t.google,(function(t){if(t.family===e)return n=t.variants})),_.isUndefined(t.custom)||_.each(t.custom,(function(t){if(t.custom===e)return n=t.variants})),n},renderTypographySubsetSelector:function(t,n,o){var i,a=this,r=e("#customize-control-"+a.id.replace("[","-").replace("]","")+" .typography-hidden-value"),c=JSON.parse(r.val()),s=c["font-family"],l=a.getTypographySubsets(s),u=a.selector+" .subsets select",d=[],g=c.subsets;!1!==l?(e(a.selector+" .subsets").show(),_.each(l,(function(e){_.isObject(g)&&-1===g.indexOf(e.id)&&(g=_.reject(g,(function(t){return t===e.id}))),d.push({id:e.id,text:e.label})}))):e(a.selector+" .subsets").hide(),e(u).hasClass("select2-hidden-accessible")&&(e(u).selectWoo("destroy"),e(u).empty()),(i=e(u).selectWoo({data:d,width:"100%"})).val(g).trigger("change"),i.on("change",(function(){a.saveTypographyValue("subsets",e(this).val(),e(this),n)}))},getTypographySubsets:function(e){var t=!1,n=this.getTypographyFonts();return _.each(n.google,(function(n){if(n.family===e)return t=n.subsets})),t},saveTypographyFontSize:function(t,n,o){var i=this,a=e("#customize-control-"+i.id.replace("[","-").replace("]","")+" .typography-hidden-value"),r=JSON.parse(a.val()),c=o.name,s=i.container.find("#customize-control-"+c),l={"font-size":{}};s.find(".font-size .control-wrap").each((function(){var t=e(this).find("input").val(),n=e(this).find("input").data("device");l["font-size"][n]=t})),e.extend(r,l),e(a).attr("value",JSON.stringify(r)).trigger("change"),n=(n=e(t).parents(".customize-control").attr("id")).replace("customize-control-",""),i.container.trigger("zakra_settings_changed",[i,t,r,n])},saveTypographyLineHeight:function(t,n,o){var i=this,a=e("#customize-control-"+i.id.replace("[","-").replace("]","")+" .typography-hidden-value"),r=JSON.parse(a.val()),c=o.name,s=i.container.find("#customize-control-"+c),l={"line-height":{}};s.find(".line-height .control-wrap").each((function(){var t=e(this).find("input").val(),n=e(this).find("input").data("device");l["line-height"][n]=t})),e.extend(r,l),e(a).attr("value",JSON.stringify(r)).trigger("change"),n=(n=e(t).parents(".customize-control").attr("id")).replace("customize-control-",""),i.container.trigger("zakra_settings_changed",[i,t,r,n])},saveTypographyLetterSpacing:function(t,n,o){var i=this,a=e("#customize-control-"+i.id.replace("[","-").replace("]","")+" .typography-hidden-value"),r=JSON.parse(a.val()),c=o.name,s=i.container.find("#customize-control-"+c),l={"letter-spacing":{}};s.find(".letter-spacing .control-wrap").each((function(){var t=e(this).find("input").val(),n=e(this).find("input").data("device");l["letter-spacing"][n]=t})),e.extend(r,l),e(a).attr("value",JSON.stringify(r)).trigger("change"),n=(n=e(t).parents(".customize-control").attr("id")).replace("customize-control-",""),i.container.trigger("zakra_settings_changed",[i,t,r,n])},saveTypographyValue:function(t,n,o,i){var a=this,r=e("#customize-control-"+a.id.replace("[","-").replace("]","")+" .typography-hidden-value"),c=JSON.parse(r.val());c[t]=n,e(r).attr("value",JSON.stringify(c)).trigger("change"),i=(i=e(o).parents(".customize-control").attr("id")).replace("customize-control-",""),a.container.trigger("zakra_settings_changed",[a,o,c,i])}})}(jQuery),function(e){e(window).on("load",(function(){e(".tg-navigate a").on("click",(function(t){t.preventDefault();var n=e(this).data("section");n&&wp.customize.section(n).focus()}))}))}(jQuery),wp.customize.controlConstructor["zakra-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("click","input",(function(){e.setting.set(jQuery(this).val())}))}}),wp.customize.controlConstructor["zakra-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.find("input[type=range]").on("input change",(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".slider-wrapper").find(".zakra-range-value .value");t.val(e),t.change()})),this.container.find(".zakra-slider-reset").click((function(){var e=jQuery(this).closest(".slider-wrapper"),t=e.find("input[type=range]"),n=e.find(".zakra-range-value .value"),o=t.data("reset_value");t.val(o),n.val(o),n.change()})),this.container.on("input change","input[type=number]",(function(){var t=jQuery(this).val();jQuery(this).closest(".slider-wrapper").find("input[type=range]").val(t),e.setting.set(t)}))}}),wp.customize.controlConstructor["zakra-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.sortableContainer=e.container.find("ul.sortable").first(),e.unsortableContainer=e.container.find("ul.unsortable").first(),e.unsortableContainer.find("li").each((function(){jQuery(this).find("i.visibility").click((function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")}))})).click((function(){e.updateValue()})),e.sortableContainer.sortable({stop:function(){e.updateValue()}}).disableSelection().find("li").each((function(){jQuery(this).find("i.visibility").click((function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")}))})).click((function(){e.updateValue()}))},updateValue:function(){"use strict";var e,t=[],n=[];this.sortableContainer.find("li").each((function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))})),this.unsortableContainer.find("li").each((function(e){jQuery(this).is(".invisible")||n.push(jQuery(this).data("value"))})),e=n.concat(t),this.setting.set(e)}}),wp.customize.controlConstructor["zakra-toggle"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this,t=e.setting._value;this.container.on("change","input",(function(){t=!!jQuery(this).is(":checked"),e.setting.set(t)}))}}),wp.customize.controlConstructor["zakra-typography"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.renderFontSelector(),e.renderVariantSelector(),e.renderSubsetSelector(),e.container.on("change",".font-style select",(function(){e.saveValue("font-style",jQuery(this).val())})),e.container.on("change",".text-transform select",(function(){e.saveValue("text-transform",jQuery(this).val())})),e.container.on("change",".text-decoration select",(function(){e.saveValue("text-decoration",jQuery(this).val())})),e.container.on("change keyup paste input",".font-size input",(function(){e.updateFontSize()})),e.container.on("change keyup paste input",".line-height input",(function(){e.updateLineHeight()})),e.container.on("change keyup paste input",".letter-spacing input",(function(){e.updateLetterSpacing()}))},renderFontSelector:function(){var e,t=this,n=t.selector+" .font-family select",o=[],i=[],a=[],r=t.setting._value,c=t.getFonts();_.isUndefined(c.standard)||_.each(c.standard,(function(e){o.push({id:e.family.replace(/&quot;/g,"&#39"),text:e.label})})),_.isUndefined(c.google)||_.each(c.google,(function(e){i.push({id:e.family,text:e.label})})),data=[{text:c.standardfontslabel,children:o},{text:c.googlefontslabel,children:i}],_.isUndefined(c.custom)||(_.each(c.custom,(function(e){a.push({id:e.family,text:e.label})})),data.push({text:c.customfontslabel,children:a})),e=jQuery(n).selectWoo({data:data,width:"100%"}),r["font-family"]&&e.val(r["font-family"].replace(/'/g,'"')).trigger("change"),e.on("change",(function(){t.saveValue("font-family",jQuery(this).val()),t.renderVariantSelector(),t.renderSubsetSelector()}))},getFonts:function(){return _.isUndefined(ZakraCustomizerControlTypography)?{google:[],standard:[]}:ZakraCustomizerControlTypography},renderVariantSelector:function(){var e,t=this,n=t.setting._value,o=n["font-family"],i=t.getVariants(o),a=t.selector+" .font-weight select",r=[],c=!1;!1!==i?(jQuery(t.selector+" .font-weight").show(),_.each(i,(function(e){n["font-weight"]===e.id&&(c=!0),r.push({id:e.id,text:e.label})})),c||(n["font-weight"]="regular"),jQuery(a).hasClass("select2-hidden-accessible")&&(jQuery(a).selectWoo("destroy"),jQuery(a).empty()),(e=jQuery(a).selectWoo({data:r,width:"100%"})).val(n["font-weight"]).trigger("change"),e.on("change",(function(){t.saveValue("font-weight",jQuery(this).val())}))):jQuery(t.selector+" .font-weight").hide()},getVariants:function(e){var t=this.getFonts(),n=!1;return _.each(t.standard,(function(t){if(e&&t.family===e.replace(/'/g,'"'))return n=t.variants})),_.each(t.google,(function(t){if(t.family===e)return n=t.variants})),_.isUndefined(t.custom)||_.each(t.custom,(function(t){if(t.custom===e)return n=t.variants})),n},renderSubsetSelector:function(){var e,t=this,n=t.setting._value,o=n["font-family"],i=t.getSubsets(o),a=t.selector+" .subsets select",r=[],c=n.subsets;!1!==i?(jQuery(t.selector+" .subsets").show(),_.each(i,(function(e){_.isObject(c)&&-1===c.indexOf(e.id)&&(c=_.reject(c,(function(t){return t===e.id}))),r.push({id:e.id,text:e.label})}))):jQuery(t.selector+" .subsets").hide(),jQuery(a).hasClass("select2-hidden-accessible")&&(jQuery(a).selectWoo("destroy"),jQuery(a).empty()),(e=jQuery(a).selectWoo({data:r,width:"100%"})).val(c).trigger("change"),e.on("change",(function(){t.saveValue("subsets",jQuery(this).val())}))},getSubsets:function(e){var t=!1,n=this.getFonts();return _.each(n.google,(function(n){if(n.family===e)return t=n.subsets})),t},saveValue:function(e,t){var n=this,o=n.container.find(".typography-hidden-value"),i=n.setting._value;i[e]=t,jQuery(o).attr("value",JSON.stringify(i)).trigger("change"),n.setting.set(i)},updateFontSize:function(){var e=this,t=e.setting._value,n=e.container.find(".typography-hidden-value"),o={"font-size":{}};e.container.find(".font-size .control-wrap").each((function(){var e=jQuery(this).find("input").val(),t=jQuery(this).find("input").data("device");o["font-size"][t]=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)},updateLineHeight:function(){var e=this,t=e.setting._value,n=e.container.find(".typography-hidden-value"),o={"line-height":{}};e.container.find(".line-height .control-wrap").each((function(){var e=jQuery(this).find("input").val(),t=jQuery(this).find("input").data("device");o["line-height"][t]=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)},updateLetterSpacing:function(){var e=this,t=e.setting._value,n=e.container.find(".typography-hidden-value"),o={"letter-spacing":{}};e.container.find(".letter-spacing .control-wrap").each((function(){var e=jQuery(this).find("input").val(),t=jQuery(this).find("input").data("device");o["letter-spacing"][t]=e})),jQuery.extend(t,o),jQuery(n).attr("value",JSON.stringify(t)).trigger("change"),e.setting.set(t)}});